(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{548:function(e,n,t){var content=t(556);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,t(18).default)("2f51735f",content,!0,{sourceMap:!1})},555:function(e,n,t){"use strict";t(548)},556:function(e,n,t){var o=t(17)(!1);o.push([e.i,"div[data-v-476d19a1]{padding:0 0 0 30px}",""]),e.exports=o},557:function(e,n,t){"use strict";var o={mounted:function(){window.RunKit.createNotebook({element:this.$el,source:this.$slots.default[0].text,nodeVersion:"lts"})}},r=(t(555),t(83)),component=Object(r.a)(o,(function(){var e=this.$createElement;return(this._self._c||e)("div")}),[],!1,null,"476d19a1",null);n.a=component.exports},608:function(e,n,t){"use strict";t.r(n);var o={components:{RunkitEmbedded:t(557).a}},r=t(83),l=t(177),c=t.n(l),d=t(612),v=t(549),m=t(547),_=t(543),component=Object(r.a)(o,(function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("v-container",[t("v-card",[t("v-card-title",{staticClass:"headline primary--text"},[e._v("Annexe : Librairies utiles")]),e._v(" "),t("v-card-text",[e._v("\n          Dans cette partie, nous allons détailler quelques librairies utiles sur vos futurs projets Node.js\n        ")]),e._v(" "),t("v-card-text",[t("v-card-title",{staticClass:"subheading primary--text"},[e._v("Lodash")]),e._v(" "),t("p",[e._v("\n            La librairie "),t("a",{attrs:{href:"https://lodash.com"}},[e._v("lodash")]),e._v(" contient un ensemble de fonctions utilitaires permettant de gérer les "),t("code",[e._v("Array")]),e._v(", "),t("code",[e._v("Object")]),e._v(", "),t("code",[e._v("Function")]),e._v(", "),t("code",[e._v("Collection")]),e._v(", etc."),t("br"),t("br"),e._v("\n\n            Les méthodes "),t("code",[e._v("_.get")]),e._v(", "),t("code",[e._v("_.set")]),e._v(", "),t("code",[e._v("_.has")]),e._v(" sur un objet permettent d'éviter les "),t("code",[e._v("ReferenceError")]),t("br"),e._v(" "),t("runkit-embedded",[e._v("\nconst _ = require('lodash');\n\nconst a = {};\n// Avec un chemin inexistant\nlet foo = _.get(a, 'b.c[3].d.e');\nconsole.log(foo);\n\n// et une valeur par défaut\nfoo = _.get(a, 'b.c[3].d.e', 'default');\nconsole.log(foo);\n\n// Exemple de set avec un chemin\n_.set(a, 'b.c[3].d.e', 'e');\n            ")]),e._v(" "),t("br"),e._v(" "),t("v-alert",{attrs:{outlined:"",value:!0,color:"warning",icon:"warning",outline:""}},[e._v("\n              Les versions récentes de JavaScript permettent de limiter l'usage de lodash. Pour plus d'information "),t("a",{attrs:{href:"https://github.com/you-dont-need/You-Dont-Need-Lodash-Underscore"}},[e._v("You don't need lodash")])])],1)],1),e._v(" "),t("v-card-text",[t("v-card-title",{staticClass:"subheading primary--text"},[e._v("Moment.js")]),e._v(" "),t("p",[e._v("\n            La librarie "),t("a",{attrs:{href:"https://momentjs.com/"}},[e._v("moment")]),e._v(" permet de manipuler simplement des dates : formatage, parsage, etc."),t("br"),t("br"),e._v(" "),t("runkit-embedded",[e._v("\nconst moment = require('moment');\n\n// Format de la date\nconsole.log(moment().format('MMMM Do YYYY, h:mm:ss a'));\nconsole.log(moment().format('YYYY [escaped] YYYY'));\n\n// Opération relative\nconsole.log(moment(\"20120620\", \"YYYYMMDD\").fromNow());\n\n// Support des locales\nmoment.locale('fr');\nconsole.log(moment().format('LLL'));\nmoment.locale('en');\nmoment().format('LLL');\n            ")]),e._v(" "),t("br"),e._v("\n\n            Le support des "),t("i",[e._v("timezones")]),e._v(" est ajouté par "),t("a",{attrs:{href:"https://momentjs.com/timezone/"}},[e._v("moment-timezone")]),e._v(" :"),t("br"),t("br"),e._v(" "),t("runkit-embedded",[e._v("\nconst moment = require('moment-timezone');\n\nvar jun = moment(\"2014-06-01T12:00:00Z\");\nvar dec = moment(\"2014-12-01T12:00:00Z\");\n\nconsole.log(jun.tz('America/Los_Angeles').format('ha z'));\nconsole.log(dec.tz('America/Los_Angeles').format('ha z'));\n\nconsole.log(jun.tz('Australia/Sydney').format('ha z'));\ndec.tz('Australia/Sydney').format('ha z');\n            ")])],1)],1),e._v(" "),t("v-card-text",[t("v-card-title",{staticClass:"subheading primary--text"},[e._v("Sinon.js")]),e._v(" "),t("p",[t("a",{attrs:{href:"https://sinonjs.org/"}},[e._v("Sinon.js")]),e._v(" est une librairie qui propose notamment des "),t("code",[e._v("fakes")]),e._v(", et "),t("code",[e._v("mocks")]),e._v(" pour JavaScript."),t("br"),t("br"),e._v(" "),t("v-card-title",{staticClass:"subheading secondary--text"},[t("code",[e._v("fake")])]),e._v("\n            Les "),t("a",{attrs:{href:"https://sinonjs.org/releases/v7.3.1/fakes/"}},[e._v("Fakes")]),e._v(" ont été introduits avec Sinon v5. Ils simplifient et fusionnent les concepts de "),t("a",{attrs:{href:"https://sinonjs.org/releases/v7.3.1/fakes/"}},[e._v("Spies")]),e._v(" et "),t("a",{attrs:{href:"https://sinonjs.org/releases/v7.3.1/fakes/"}},[e._v("Stubs")]),e._v("."),t("br"),t("br"),e._v("\n\n            Un "),t("code",[e._v("fake")]),e._v(" est une fonction qui enregistre ses arguments et retourne une valeur."),t("br"),e._v(" "),t("runkit-embedded",[e._v("\nconst sinon = require('sinon');\n\n// Exemple de fake sans comportement\nlet fake = sinon.fake();\nfake();\nconsole.log(fake.callCount);\n\n// Exemple de fake retournant une valeur\nfake = sinon.fake.returns('apple pie');\nconsole.log(fake());\nconsole.log(fake.args);\nconsole.log(fake);\n\n// Exemple de fake propageant une exception\nfake = sinon.fake.throws(new Error('not apple pie'));\nfake();\n            ")]),e._v(" "),t("br"),e._v("\n\n            Ces fake peuvent être utilisés avec la fonction "),t("code",[e._v("sinon.replace")]),e._v(" pour simuler le comportement d'un objet existant :"),t("br"),t("br"),e._v(" "),t("runkit-embedded",[e._v("\nconst sinon = require('sinon');\n\n// Une object de fonctions utilitaires\nconst utils = {\n  sayGoodMorning: name => `Good morning ${name}!`\n};\nconsole.log(utils.sayGoodMorning('Yann'));\n\n// On remplace le comportement initial par un fake\nconst sayGoodAfternoon = sinon.fake.returns('Good afternoon Yann!');\nsinon.replace(utils, 'sayGoodMorning', sayGoodAfternoon);\nconsole.log(utils.sayGoodMorning('Yann'));\n\n// Restaure toutes les propriétés modifiées par Sinon (replace, spies, stubs)\nsinon.restore();\nutils.sayGoodMorning('Yann');\n            ")])],1),t("br"),e._v(" "),t("v-card-title",{staticClass:"subheading secondary--text"},[t("code",[e._v("mock")])]),e._v("\n          Les "),t("a",{attrs:{href:"https://sinonjs.org/releases/v7.3.1/mocks/"}},[e._v("Mocks")]),e._v(" ne modifient pas un objet mais créent un "),t("i",[e._v("objet mock")]),e._v(" avec de fausses méthodes et des comportements attendus pré-définis."),t("br"),t("br"),e._v("\n\n          Par exemple, si l'on souhaite s'assurer que la méthode "),t("code",[e._v("smsManager.sendTo")]),e._v(" est bien appelée deux fois dans la fonction "),t("code",[e._v("api()")]),e._v(" :\n          "),t("pre",{directives:[{name:"highlightjs",rawName:"v-highlightjs"}]},[e._v("            "),t("code",{staticClass:"javascript"},[e._v("\nimport sinon from 'sinon';\n\nconst api() => {\n  smsManager.sendTo('Yann', 'Yo!');\n  smsManager.sendTo('Quentin', 'Yo!');\n};\n\n// On utilise un mock sur l'objet \"smsManager\"\nconst mock = sinon.mock(smsManager);\nmock.expects('sendTo').twice();\n\n// L'appel à la fonction \"api\" n'enverra pas les SMS\napi();\n\n// Propagera une exception s'il n'y a pas exactement 2 appels à \"sendTo\" dans \"api()\"\nmock.verify();\n            ")]),e._v("\n          ")]),e._v(" "),t("br"),e._v(" "),t("v-alert",{attrs:{outlined:"",value:!0,color:"info",icon:"info",outline:""}},[t("code",[e._v("Sinon")]),e._v(" apporte également d'autres fonctionnalités comme les "),t("code",[e._v("stubs")]),e._v(", "),t("code",[e._v("spies")]),e._v(", "),t("code",[e._v("spy calls")]),e._v(", "),t("code",[e._v("fake timers")]),e._v(", pour plus d'informations voir la "),t("a",{attrs:{href:"https://sinonjs.org/releases/v7.3.1/"}},[e._v("documentation officielle")]),e._v(".\n          ")])],1)],1)],1)}),[],!1,null,null,null);n.default=component.exports;c()(component,{VAlert:d.a,VCard:v.a,VCardText:m.a,VCardTitle:m.b,VContainer:_.a})}}]);
(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{548:function(e,n,o){var content=o(556);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(18).default)("2f51735f",content,!0,{sourceMap:!1})},555:function(e,n,o){"use strict";o(548)},556:function(e,n,o){var r=o(17)(!1);r.push([e.i,"div[data-v-476d19a1]{padding:0 0 0 30px}",""]),e.exports=r},557:function(e,n,o){"use strict";var r={mounted:function(){window.RunKit.createNotebook({element:this.$el,source:this.$slots.default[0].text,nodeVersion:"lts"})}},t=(o(555),o(83)),component=Object(t.a)(r,(function(){var e=this.$createElement;return(this._self._c||e)("div")}),[],!1,null,"476d19a1",null);n.a=component.exports},604:function(e,n,o){"use strict";o.r(n);var r={components:{RunkitEmbedded:o(557).a}},t=o(83),c=o(177),l=o.n(c),v=o(612),d=o(549),_=o(547),f=o(543),component=Object(t.a)(r,(function(){var e=this,n=e.$createElement,o=e._self._c||n;return o("v-container",[o("v-card",[o("v-card-title",{staticClass:"headline primary--text"},[e._v("Gérer la configuration")]),e._v(" "),o("v-card-text",[o("p",[e._v("\n            La gestion de la configuration par environnement (développement, qualification, production, etc.) est une problématique classique."),o("br"),o("br"),e._v("\n\n            Quelques bonnes pratiques pour la configuration :\n            "),o("ul",[o("li",[e._v("Grouper ses fichers de configuration, par exemple sous un répertoire "),o("code",[e._v("conf")]),e._v(" ;")]),e._v(" "),o("li",[e._v("Utiliser la variable d'environnement "),o("code",[e._v("NODE_ENV")]),e._v(" pour différencier les environnements ;")]),e._v(" "),o("li",[e._v("Utiliser des variables d'environnement personnalisées pour stocker des secrets (mot de passe, token, etc.) "),o("code",[e._v("process.env.API_KEY")]),e._v(".")])]),o("br"),e._v(" "),o("runkit-embedded",[e._v("\nconst env = process.env.NODE_ENV; // production\n\nconst config = {\n  production: { hello: 'production' },\n  qualification: { hello: 'qualification' }\n};\n\nconsole.log(config[env]);\n            ")]),e._v(" "),o("br"),e._v('\n            Gérer sa configuration "à la main" peut s\'avérer complexe et peu maintenable. Il existe heureusement de nombreuses librairies permetant les gestions des configurations, voir : '),o("a",{attrs:{href:"https://www.npmjs.com/search?q=keywords:config"}},[e._v("NPM ~config")]),e._v("."),o("br")],1),e._v(" "),o("v-card-title",{staticClass:"subheading primary--text"},[e._v("La librarie node-config")]),e._v(" "),o("p",[e._v("\n            La librarie "),o("a",{attrs:{href:"https://github.com/lorenwest/node-config"}},[e._v("node-config")]),e._v(" permet notamment :\n            "),o("ul",[o("li",[e._v("d'avoir un fichier de configuration par défaut, e.g. "),o("code",[e._v("config/default.json")]),e._v(" ;")]),e._v(" "),o("li",[e._v("de surcharger certaines valeurs par environnement, e.g. "),o("code",[e._v("config/production.json")]),e._v(" ;")]),e._v(" "),o("li",[e._v("de surcharger certaines valeurs grâce aux variables d'environnement, e.g. "),o("code",[e._v("config/custom-environment-variables.json")]),e._v(".")])]),o("br"),e._v(" "),o("v-alert",{attrs:{outlined:"",value:!0,color:"info",icon:"info",outline:""}},[o("code",[e._v("node-config")]),e._v(" gère également les fichiers "),o("code",[e._v(".yaml")]),e._v(", "),o("code",[e._v(".js")]),e._v(", "),o("code",[e._v(".coffee")])]),e._v(" "),o("br")],1)],1),e._v(" "),o("v-card-text",[o("v-card-title",{staticClass:"subheading secondary--text"},[e._v("TP Fil rouge")]),e._v(" "),o("p",[e._v("\n            Utiliser la librairie "),o("code",[e._v("node-config")]),e._v(" pour :\n            "),o("ol",[o("li",[e._v("passer le port du serveur en configuration ;")]),e._v(" "),o("li",[e._v("passer la configuration du logger en fichier de configuration.")])])])],1)],1)],1)}),[],!1,null,null,null);n.default=component.exports;l()(component,{VAlert:v.a,VCard:d.a,VCardText:_.a,VCardTitle:_.b,VContainer:f.a})}}]);
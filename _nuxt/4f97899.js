(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{548:function(e,t,n){var content=n(556);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(18).default)("2f51735f",content,!0,{sourceMap:!1})},555:function(e,t,n){"use strict";n(548)},556:function(e,t,n){var r=n(17)(!1);r.push([e.i,"div[data-v-476d19a1]{padding:0 0 0 30px}",""]),e.exports=r},557:function(e,t,n){"use strict";var r={mounted:function(){window.RunKit.createNotebook({element:this.$el,source:this.$slots.default[0].text,nodeVersion:"lts"})}},v=(n(555),n(83)),component=Object(v.a)(r,(function(){var e=this.$createElement;return(this._self._c||e)("div")}),[],!1,null,"476d19a1",null);t.a=component.exports},575:function(e,t,n){e.exports=n.p+"img/pubsub-1.e210369.png"},576:function(e,t,n){"use strict";n(241);var r=n(182);t.a=Object(r.a)("flex")},605:function(e,t,n){"use strict";n.r(t);var r={components:{RunkitEmbedded:n(557).a}},v=n(83),o=n(177),l=n.n(o),c=n(612),d=n(549),m=n(547),_=n(543),f=n(576),component=Object(v.a)(r,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",[r("v-card",[r("v-card-title",{staticClass:"headline primary--text"},[e._v("La gestion des évènements")]),e._v(" "),r("v-flex",{attrs:{xs2:""}},[r("img",{staticClass:"mb-5 pl-5",attrs:{src:n(575),alt:"Event"}})]),e._v(" "),r("v-card-text",[r("v-card-title",{staticClass:"subheading primary--text"},[e._v("La classe EventEmitter")]),e._v(" "),r("p",[e._v("\n            Une grande partie du coeur de l'API Node.js est construite autour d'une architecture orientée évènements. Il y a deux rôles possibles :\n            "),r("ul",[r("li",[r("b",[e._v("Emetteur")]),e._v(" : il émet un évènement identifié par son nom")]),e._v(" "),r("li",[r("b",[e._v("Auditeur")]),e._v(" : il s'inscrit à l'évènement d'un émetteur, pour être réveillé lors de l'émission")])]),e._v(" "),r("br"),e._v("\n            La classe "),r("a",{attrs:{href:"https://nodejs.org/api/events.html"}},[e._v("EventEmitter")]),e._v(" implémente ce pattern :"),r("br"),e._v(" "),r("ul",[r("li",[r("code",[e._v("on(evt, callback)")]),e._v(" enregistre la fonction auditrice pour "),r("code",[e._v("evt")])]),e._v(" "),r("li",[r("code",[e._v("emit(evt, arg1, arg2...)")]),e._v(" déclenche tous les auditeurs de "),r("code",[e._v("evt")]),e._v(" en leur passant tous les paramètres")]),e._v(" "),r("li",[r("code",[e._v("removeListener(evt, cb)")]),e._v(" désinscrit un auditeur")]),e._v(" "),r("li",[r("code",[e._v("removeAllListeners(evt)")]),e._v(" désinscrit tous les auditeurs")]),e._v(" "),r("li",[r("code",[e._v("once(evt, cb)")]),e._v(" inscrit un auditeur qui sera automatiquement désinscrit après le premier évènement")])]),e._v(" "),r("br"),e._v(" "),r("runkit-embedded",[e._v("\nconst EventEmitter = require('events');\nclass MyEmitter extends EventEmitter {}\nconst myEmitter = new MyEmitter();\nlet m = 0;\n\nmyEmitter.on('event', () => {\n  console.log(++m);\n});\nmyEmitter.emit('event');\n// Prints: 1\nmyEmitter.emit('event');\n// Prints: 2\n            ")]),e._v(" "),r("br"),e._v(" "),r("v-alert",{attrs:{outlined:"",value:!0,color:"warning",icon:"warning",outline:""}},[r("ul",[r("li",[e._v("Il est "),r("b",[e._v("impératif")]),e._v(" de désinscrire les auditeurs !")]),e._v(" "),r("li",[e._v("Si l'évènement "),r("code",[e._v("error")]),e._v(" est émis et non écouté, il se transforme en "),r("b",[e._v("exception")]),e._v(" !")])])]),e._v(" "),r("br"),e._v(" "),r("runkit-embedded",[e._v("\nconst EventEmitter = require('events');\nclass MyEmitter extends EventEmitter {}\nconst myEmitter = new MyEmitter();\n\nmyEmitter.emit('error', new Error('whoops!'));\n// Throws and crashes Node.js\n            ")]),e._v(" "),r("br"),e._v(" "),r("ul",[r("li",[e._v("Le bout de code précédent lève une exception et quitte le processus Node.js")]),e._v(" "),r("li",[e._v("Complétez-le afin d'afficher un "),r("code",[e._v("console.log")]),e._v(" à la place")])])],1)],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports;l()(component,{VAlert:c.a,VCard:d.a,VCardText:m.a,VCardTitle:m.b,VContainer:_.a,VFlex:f.a})}}]);